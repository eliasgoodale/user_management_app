{"ast":null,"code":"import _classCallCheck from \"/nfs/2018/e/egoodale/RDT/user_management_app/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/nfs/2018/e/egoodale/RDT/user_management_app/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/nfs/2018/e/egoodale/RDT/user_management_app/app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/nfs/2018/e/egoodale/RDT/user_management_app/app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/nfs/2018/e/egoodale/RDT/user_management_app/app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectSpread from \"/nfs/2018/e/egoodale/RDT/user_management_app/app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/nfs/2018/e/egoodale/RDT/user_management_app/app/src/components/ToolbarButtons.tsx\";\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddIcon from '@material-ui/icons/Add';\nimport SaveIcon from '@material-ui/icons/Save';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport VpnKey from '@material-ui/icons/VpnKey';\nimport * as ActionGroup from '../actions';\nimport { connect } from 'react-redux';\nimport { userPassesConstraintValidation as valid } from '../validation';\nimport { Dialog, DialogActionsBar } from '@progress/kendo-react-dialogs';\nvar styles = {\n  container: {\n    display: \"flex\"\n  },\n  button: {\n    margin: '5px'\n  },\n  icon: {\n    fontSize: 18,\n    marginRight: '5px'\n  },\n  buttonRight: {\n    margin: '5px',\n    marginLeft: 'auto'\n  }\n};\n\nvar DeleteDialog = function DeleteDialog(props) {\n  var visible = props.visible,\n      softDeleteUser = props.softDeleteUser,\n      close = props.close,\n      userInEdit = props.userInEdit;\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, visible && React.createElement(Dialog, {\n    title: \"Confirm Delete\",\n    onClose: close,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      margin: \"25px\",\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Are you sure you want to delete this user?\"), React.createElement(DialogActionsBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    size: \"small\",\n    color: \"secondary\",\n    style: styles.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Cancel\"), React.createElement(Button, {\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    style: styles.buttonRight,\n    onClick: function onClick(e) {\n      return softDeleteUser(_objectSpread({}, userInEdit, {\n        isActive: false\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Confirm\")))));\n};\n\nvar ToolbarButtons =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ToolbarButtons, _Component);\n\n  function ToolbarButtons() {\n    _classCallCheck(this, ToolbarButtons);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ToolbarButtons).apply(this, arguments));\n  }\n\n  _createClass(ToolbarButtons, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          togglePasswordModal = _this$props.togglePasswordModal,\n          cancelChanges = _this$props.cancelChanges,\n          enterCreateMode = _this$props.enterCreateMode,\n          backupData = _this$props.backupData,\n          userInEdit = _this$props.userInEdit,\n          inEdit = _this$props.inEdit,\n          inCreateMode = _this$props.inCreateMode,\n          createUser = _this$props.createUser,\n          updateUser = _this$props.updateUser,\n          showDeleteConfirmation = _this$props.showDeleteConfirmation,\n          toggleDeleteConfirmation = _this$props.toggleDeleteConfirmation,\n          softDeleteUser = _this$props.softDeleteUser;\n      var backupUserData = backupData.find(function (user) {\n        return user.id === inEdit;\n      });\n      var changed = JSON.stringify(userInEdit[0]) !== JSON.stringify(backupUserData);\n      console.table(userInEdit[0]);\n      console.table(backupUserData);\n      return React.createElement(\"div\", {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(DeleteDialog, {\n        userInEdit: userInEdit,\n        visible: showDeleteConfirmation,\n        softDeleteUser: softDeleteUser,\n        close: toggleDeleteConfirmation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"contained\",\n        size: \"small\",\n        color: \"secondary\",\n        style: styles.button,\n        disabled: inEdit === null || inEdit === 'temp',\n        onClick: toggleDeleteConfirmation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(DeleteIcon, {\n        style: styles.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), \"Delete\"), React.createElement(Button, {\n        variant: \"contained\",\n        size: \"small\",\n        color: \"primary\",\n        style: styles.button,\n        disabled: inEdit !== null,\n        onClick: enterCreateMode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(AddIcon, {\n        style: styles.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), \"Create\"), React.createElement(Button, {\n        variant: \"contained\",\n        size: \"small\",\n        style: styles.button,\n        disabled: !changed || !valid(userInEdit[0], inCreateMode),\n        onClick: function onClick(e) {\n          return inEdit === 'temp' ? createUser(userInEdit[0]) : updateUser(userInEdit[0]);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(SaveIcon, {\n        style: styles.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), \"Save\"), React.createElement(Button, {\n        variant: \"contained\",\n        size: \"small\",\n        style: styles.button,\n        disabled: !inEdit,\n        onClick: function onClick(e) {\n          return cancelChanges(backupData);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(CancelIcon, {\n        style: styles.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), \"Cancel\"), inEdit !== null && React.createElement(Button, {\n        variant: \"contained\",\n        size: \"small\",\n        style: styles.buttonRight,\n        onClick: togglePasswordModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(VpnKey, {\n        style: styles.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), \"Manage Password\"));\n    }\n  }]);\n\n  return ToolbarButtons;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    inCreateMode: state.editor.inCreateMode,\n    backupData: state.collection.data,\n    tableData: state.editor.data,\n    inEdit: state.editor.inEdit,\n    userInEdit: state.editor.userInEdit,\n    classes: styles,\n    showPasswordModal: state.ui.showPasswordModal,\n    showDeleteConfirmation: state.ui.showDeleteConfirmation\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    cancelChanges: function cancelChanges(backup) {\n      dispatch(ActionGroup.cancelChanges(backup));\n    },\n    enterCreateMode: function enterCreateMode() {\n      dispatch(ActionGroup.enterCreateMode());\n    },\n    createUser: function createUser(newUser) {\n      dispatch(ActionGroup.createUser(newUser));\n    },\n    updateUser: function updateUser(_updateUser) {\n      dispatch(ActionGroup.updateUser(_updateUser));\n    },\n    softDeleteUser: function softDeleteUser(toDelete) {\n      dispatch(ActionGroup.softDeleteUser(toDelete));\n    },\n    togglePasswordModal: function togglePasswordModal() {\n      dispatch(ActionGroup.togglePasswordModal());\n    },\n    toggleDeleteConfirmation: function toggleDeleteConfirmation() {\n      dispatch(ActionGroup.toggleDeleteConfirmation());\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolbarButtons);","map":{"version":3,"sources":["/nfs/2018/e/egoodale/RDT/user_management_app/app/src/components/ToolbarButtons.tsx"],"names":["React","Component","Button","DeleteIcon","AddIcon","SaveIcon","CancelIcon","VpnKey","ActionGroup","connect","userPassesConstraintValidation","valid","Dialog","DialogActionsBar","styles","container","display","button","margin","icon","fontSize","marginRight","buttonRight","marginLeft","DeleteDialog","props","visible","softDeleteUser","close","userInEdit","textAlign","e","isActive","ToolbarButtons","togglePasswordModal","cancelChanges","enterCreateMode","backupData","inEdit","inCreateMode","createUser","updateUser","showDeleteConfirmation","toggleDeleteConfirmation","backupUserData","find","user","id","changed","JSON","stringify","console","table","mapStateToProps","state","editor","collection","data","tableData","classes","showPasswordModal","ui","mapDispatchToProps","dispatch","backup","newUser","toDelete"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddIcon from '@material-ui/icons/Add'\nimport SaveIcon from '@material-ui/icons/Save';\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport VpnKey from '@material-ui/icons/VpnKey'\nimport * as ActionGroup from '../actions';\nimport { User } from '../types';\nimport { connect } from 'react-redux';\nimport { userPassesConstraintValidation as valid } from '../validation'\nimport { Dialog, DialogActionsBar } from '@progress/kendo-react-dialogs';\n\nconst styles = ({\n  container: {\n    display: \"flex\",\n  },\n  button: {\n    margin: '5px'\n  },\n  icon: {\n    fontSize: 18,\n    marginRight: '5px'\n  },\n  buttonRight: {\n    margin: '5px',\n    marginLeft: 'auto'\n  }\n});\n\nconst DeleteDialog = (props: any ) => {\n  const { visible, softDeleteUser, close, userInEdit } = props;\n  return (\n  <React.Fragment>\n    {visible &&  <Dialog title={\"Confirm Delete\"} onClose={close}>\n      <p style={{ margin: \"25px\", textAlign: \"center\" }}>Are you sure you want to delete this user?</p>\n    <DialogActionsBar>\n    <div style={styles.container}>\n      <Button variant=\"contained\" size=\"small\" color=\"secondary\" style={styles.button}>\n        Cancel\n        </Button>\n      <Button variant=\"contained\" size=\"small\" color=\"primary\" style={styles.buttonRight}\n        onClick={e => softDeleteUser({...userInEdit, isActive: false})}>\n        Confirm\n        </Button>\n      </div>\n    </DialogActionsBar>\n    </Dialog>}\n    </React.Fragment>\n  )\n}\n\n\nclass ToolbarButtons extends Component <any, {}> {\n\n  render () {\n    const {\n      togglePasswordModal,\n      cancelChanges,\n      enterCreateMode,\n      backupData,\n      userInEdit,\n      inEdit,\n      inCreateMode,\n      createUser,\n      updateUser,\n      showDeleteConfirmation,\n      toggleDeleteConfirmation,\n      softDeleteUser } = this.props;\n    const backupUserData = backupData.find((user: User) => user.id === inEdit);\n    const changed = JSON.stringify(userInEdit[0]) !== JSON.stringify(backupUserData)\n    console.table(userInEdit[0])\n    console.table(backupUserData);\n  return (\n    \n  <div style={styles.container} >\n    <DeleteDialog \n      userInEdit={userInEdit} \n      visible={showDeleteConfirmation} \n      softDeleteUser={softDeleteUser} \n      close={toggleDeleteConfirmation} />\n      <Button  \n        variant=\"contained\" size=\"small\" color=\"secondary\" style={styles.button}\n        disabled={inEdit === null || inEdit === 'temp'}\n        onClick={toggleDeleteConfirmation}>\n      <DeleteIcon style={styles.icon} />\n        Delete\n      </Button>\n      <Button \n        variant=\"contained\" size=\"small\"color=\"primary\" style={styles.button}\n        disabled={inEdit !== null}\n        onClick={enterCreateMode}>\n      <AddIcon style={styles.icon}/>\n        Create\n      </Button>\n      <Button \n        variant=\"contained\" size=\"small\" style={styles.button} \n        disabled={!changed || !valid(userInEdit[0], inCreateMode)}\n        onClick={e => inEdit === 'temp' ? createUser(userInEdit[0]): updateUser(userInEdit[0])}>\n        <SaveIcon style={styles.icon} />\n        Save\n      </Button>\n      <Button variant=\"contained\" size=\"small\" style={styles.button}\n        disabled={!inEdit}\n        onClick={e => cancelChanges(backupData)}>\n        <CancelIcon style={styles.icon} />\n        Cancel\n      </Button>\n      {inEdit !== null && <Button variant=\"contained\" size=\"small\" style={styles.buttonRight}\n        onClick={togglePasswordModal}>\n        <VpnKey style={styles.icon}/>\n        Manage Password\n      </Button>}\n\n    </div>\n  );\n}\n}\n\nfunction mapStateToProps (state: any) {\n  return {\n    inCreateMode: state.editor.inCreateMode,\n    backupData: state.collection.data,\n    tableData: state.editor.data,\n    inEdit: state.editor.inEdit,\n    userInEdit: state.editor.userInEdit,\n    classes: styles,\n    showPasswordModal: state.ui.showPasswordModal,\n    showDeleteConfirmation: state.ui.showDeleteConfirmation\n  }\n}\n\nfunction mapDispatchToProps (dispatch: any) {\n  return {\n    cancelChanges: (backup: User[]) => {\n      dispatch(ActionGroup.cancelChanges(backup))\n    },\n    enterCreateMode: () => {\n      dispatch(ActionGroup.enterCreateMode())\n    },\n    createUser: (newUser: User) => {\n      dispatch(ActionGroup.createUser(newUser))\n    },\n    updateUser: (updateUser: Partial<Pick<User, 'id'>>) => {\n      dispatch(ActionGroup.updateUser(updateUser))\n    },\n    softDeleteUser: (toDelete: User) =>{\n      dispatch(ActionGroup.softDeleteUser(toDelete))\n    },\n    togglePasswordModal: () => {\n      dispatch(ActionGroup.togglePasswordModal())\n    },\n    toggleDeleteConfirmation: () => {\n      dispatch(ActionGroup.toggleDeleteConfirmation())\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolbarButtons);"]},"metadata":{},"sourceType":"module"}