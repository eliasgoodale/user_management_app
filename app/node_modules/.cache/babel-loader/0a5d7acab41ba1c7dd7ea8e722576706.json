{"ast":null,"code":"import _objectSpread from \"/nfs/2018/e/egoodale/RDT/user_management_app/app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport * as Joi from 'joi';\nvar passwordSchema = Joi.object().keys({\n  password: Joi.string().min(6).max(25).required()\n});\nexport var userSchema = Joi.object().keys({\n  id: Joi.string(),\n  firstName: Joi.string().min(2).max(20).required(),\n  lastName: Joi.string().min(2).max(20).required(),\n  username: Joi.string().min(5).max(20).required(),\n  password: Joi.string(),\n  isActive: Joi.boolean().required(),\n  isEntryAdmin: Joi.boolean().required(),\n  isListAdmin: Joi.boolean().required(),\n  isLocationManager: Joi.boolean().required(),\n  isOperatorAdmin: Joi.boolean().required(),\n  isUserAdmin: Joi.boolean().required()\n});\nexport function userPassesConstraintValidation(user, needsPasswordCheck) {\n  var result = Joi.validate(_objectSpread({}, user), userSchema);\n\n  if (needsPasswordCheck) {\n    var passwordResult = Joi.validate({\n      password: user.password\n    }, passwordSchema);\n    console.log(passwordResult);\n  }\n\n  console.log(result);\n  return result.error === null;\n}","map":{"version":3,"sources":["/nfs/2018/e/egoodale/RDT/user_management_app/app/src/validation.ts"],"names":["Joi","passwordSchema","object","keys","password","string","min","max","required","userSchema","id","firstName","lastName","username","isActive","boolean","isEntryAdmin","isListAdmin","isLocationManager","isOperatorAdmin","isUserAdmin","userPassesConstraintValidation","user","needsPasswordCheck","result","validate","passwordResult","console","log","error"],"mappings":";AAAA,OAAO,KAAKA,GAAZ,MAAqB,KAArB;AAGA,IAAMC,cAAmB,GAAGD,GAAG,CAACE,MAAJ,GAAaC,IAAb,CAAkB;AAC7CC,EAAAA,QAAQ,EAAEJ,GAAG,CAACK,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,EAAxB,EAA4BC,QAA5B;AADmC,CAAlB,CAA5B;AAIA,OAAO,IAAMC,UAAe,GAAGT,GAAG,CAACE,MAAJ,GAAaC,IAAb,CAAkB;AAChDO,EAAAA,EAAE,EAAEV,GAAG,CAACK,MAAJ,EAD4C;AAEhDM,EAAAA,SAAS,EAAEX,GAAG,CAACK,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,EAAxB,EAA4BC,QAA5B,EAFqC;AAGhDI,EAAAA,QAAQ,EAAEZ,GAAG,CAACK,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,EAAxB,EAA4BC,QAA5B,EAHsC;AAIhDK,EAAAA,QAAQ,EAAEb,GAAG,CAACK,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,EAAxB,EAA4BC,QAA5B,EAJsC;AAKhDJ,EAAAA,QAAQ,EAAEJ,GAAG,CAACK,MAAJ,EALsC;AAMhDS,EAAAA,QAAQ,EAAEd,GAAG,CAACe,OAAJ,GAAcP,QAAd,EANsC;AAOhDQ,EAAAA,YAAY,EAAEhB,GAAG,CAACe,OAAJ,GAAcP,QAAd,EAPkC;AAQhDS,EAAAA,WAAW,EAAEjB,GAAG,CAACe,OAAJ,GAAcP,QAAd,EARmC;AAShDU,EAAAA,iBAAiB,EAAElB,GAAG,CAACe,OAAJ,GAAcP,QAAd,EAT6B;AAUhDW,EAAAA,eAAe,EAAEnB,GAAG,CAACe,OAAJ,GAAcP,QAAd,EAV+B;AAWhDY,EAAAA,WAAW,EAAEpB,GAAG,CAACe,OAAJ,GAAcP,QAAd;AAXmC,CAAlB,CAAxB;AAcP,OAAO,SAASa,8BAAT,CAAyCC,IAAzC,EAAqDC,kBAArD,EAAkF;AACxF,MAAMC,MAAW,GAAGxB,GAAG,CAACyB,QAAJ,mBAAkBH,IAAlB,GAA0Bb,UAA1B,CAApB;;AACA,MAAIc,kBAAJ,EAAwB;AACvB,QAAMG,cAAmB,GAAG1B,GAAG,CAACyB,QAAJ,CAAa;AAACrB,MAAAA,QAAQ,EAAEkB,IAAI,CAAClB;AAAhB,KAAb,EAAwCH,cAAxC,CAA5B;AACA0B,IAAAA,OAAO,CAACC,GAAR,CAAYF,cAAZ;AACA;;AACDC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACA,SAAOA,MAAM,CAACK,KAAP,KAAiB,IAAxB;AACA","sourcesContent":["import * as Joi from 'joi'\nimport { User } from './types' \n\nconst passwordSchema: any = Joi.object().keys({\n\tpassword: Joi.string().min(6).max(25).required(),\n})\n\nexport const userSchema: any = Joi.object().keys({\n\tid: Joi.string(),\n\tfirstName: Joi.string().min(2).max(20).required(),\n\tlastName: Joi.string().min(2).max(20).required(),\n\tusername: Joi.string().min(5).max(20).required(),\n\tpassword: Joi.string(),\n\tisActive: Joi.boolean().required(),\n\tisEntryAdmin: Joi.boolean().required(),\n\tisListAdmin: Joi.boolean().required(),\n\tisLocationManager: Joi.boolean().required(),\n\tisOperatorAdmin: Joi.boolean().required(),\n\tisUserAdmin: Joi.boolean().required(),\n})\n\nexport function userPassesConstraintValidation (user: User, needsPasswordCheck: boolean) {\n\tconst result: any = Joi.validate({ ...user }, userSchema)\n\tif (needsPasswordCheck) {\n\t\tconst passwordResult: any = Joi.validate({password: user.password}, passwordSchema);\n\t\tconsole.log(passwordResult);\n\t}\n\tconsole.log(result);\n\treturn result.error === null;\n}\n"]},"metadata":{},"sourceType":"module"}