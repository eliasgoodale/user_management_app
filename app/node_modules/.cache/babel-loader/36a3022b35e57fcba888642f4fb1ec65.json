{"ast":null,"code":"import _toConsumableArray from \"/nfs/2018/e/egoodale/RDT/user_management_app/app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/nfs/2018/e/egoodale/RDT/user_management_app/app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/nfs/2018/e/egoodale/RDT/user_management_app/app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { newUserTemplate } from '../types';\nvar initialState = {\n  editIndex: -1,\n  inEdit: null,\n  userInEdit: [{\n    id: \"null\"\n  }],\n  inCreateMode: false,\n  data: []\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'users/CHANGE_EDIT_ID':\n      return !state.inCreateMode ? _objectSpread({}, state, {\n        inEdit: action.payload,\n        userInEdit: state.data.filter(function (u) {\n          return u.id === action.payload;\n        }),\n        editIndex: state.data.findIndex(function (u) {\n          return u.id === action.payload;\n        })\n      }) : state;\n\n    case 'users/CHANGE_USER_DATA':\n      var _action$payload = action.payload,\n          id = _action$payload.id,\n          field = _action$payload.field,\n          value = _action$payload.value;\n      return _objectSpread({}, state, {\n        userInEdit: [_objectSpread({}, state.userInEdit[0], _defineProperty({}, field, value))],\n        data: state.data.map(function (u) {\n          return u.id === id ? _objectSpread({}, u, _defineProperty({}, field, value)) : u;\n        })\n      });\n\n    case 'users/CANCEL_CHANGES':\n      return _objectSpread({}, state, {\n        inEdit: null,\n        inCreateMode: false,\n        data: action.payload\n      });\n\n    case 'users/SYNC_DATA':\n      return _objectSpread({}, state, {\n        inEdit: null,\n        inCreateMode: false,\n        editIndex: -1,\n        userInEdit: [{\n          id: null\n        }],\n        data: action.payload.map(function (u) {\n          return _objectSpread({}, u, {\n            password: \"\"\n          });\n        })\n      });\n\n    case 'users/UPDATE_FULFILLED':\n      return _objectSpread({}, state, {\n        inEdit: null,\n        userInEdit: [{\n          id: null\n        }],\n        editIndex: -1\n      });\n\n    case 'users/CHANGE_USER_PASSWORD':\n      return _objectSpread({}, state, {\n        inCreateMode: false,\n        inEdit: null,\n        editIndex: -1\n      });\n\n    case 'users/ENTER_CREATE_MODE':\n      var newData = _toConsumableArray(state.data);\n\n      newData.unshift(newUserTemplate);\n      return _objectSpread({}, state, {\n        data: newData,\n        inEdit: \"temp\",\n        editIndex: 0,\n        userInEdit: newData.filter(function (u) {\n          return u.id === \"temp\";\n        }),\n        inCreateMode: true\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/nfs/2018/e/egoodale/RDT/user_management_app/app/src/reducers/editor.ts"],"names":["newUserTemplate","initialState","editIndex","inEdit","userInEdit","id","inCreateMode","data","state","action","type","payload","filter","u","findIndex","field","value","map","password","newData","unshift"],"mappings":"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","sourcesContent":["import { newUserTemplate, User, EditorState } from '../types'\n\nconst initialState: any = {\n    editIndex: -1,\n    inEdit: null,\n    userInEdit: [{id: \"null\"}],\n    inCreateMode: false,\n    data: [],\n}\n\nexport default (state: any = initialState, action: any) => {\n    switch(action.type) {\n        case 'users/CHANGE_EDIT_ID':\n            return (!state.inCreateMode) ? {\n                ...state, \n                inEdit: action.payload,\n                userInEdit: state.data.filter((u: User) => u.id === action.payload),\n                editIndex: state.data.findIndex((u: any) => u.id === action.payload)\n            } : state;\n        case 'users/CHANGE_USER_DATA':\n            const { id, field, value } = action.payload\n            return {\n                ...state,\n                userInEdit: [{ ...state.userInEdit[0], [field]: value }],\n                data: state.data.map((u: User) => {\n                    return u.id === id ? { ...u, [field]: value } : u;\n                }),\n            }\n        case 'users/CANCEL_CHANGES':\n            return {\n                ...state,\n                inEdit: null,\n                inCreateMode: false,\n                data: action.payload\n            }\n        case 'users/SYNC_DATA':\n            return {\n                ...state, \n                inEdit: null,\n                inCreateMode: false,\n                editIndex: -1,\n                userInEdit: [{id: null}],\n                data: action.payload.map((u: User) => {\n                    return { ...u, password: \"\" }\n                }),\n            };\n        case 'users/UPDATE_FULFILLED':\n            return {\n                ...state,\n                inEdit: null,\n                userInEdit: [{id: null}],\n                editIndex: -1,\n            }\n        case 'users/CHANGE_USER_PASSWORD':\n            return {\n                ...state, \n                inCreateMode: false,\n                inEdit: null,\n                editIndex: -1,\n            }\n        case 'users/ENTER_CREATE_MODE':\n            const newData = [...state.data];\n            newData.unshift(newUserTemplate);\n            return {\n                ...state,\n                data: newData,\n                inEdit: \"temp\",\n                editIndex: 0,\n                userInEdit: newData.filter((u: User) => u.id === \"temp\"),\n                inCreateMode: true\n            }\n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}